package chess

import (
	"fmt"
)

func MarkAllPreMoves(b *Board, typ ...Piece) {
	for _, typ := range typ {
		for p := RC(0, 0); p.Valid(); p = p.Next() {
			if b.At(p) == typ {
				fmt.Printf("pre-moves for %v%v\n", b.At(p), p)
				var moves []Pos
				Pre(b, p, &moves)
				mark(b, moves)
				fmt.Println()
			}
		}
	}
}

func ExamplePreB() {
	b := Upright(&Board{
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, BP, 00, 00, 00, 00, 00,
		00, BB, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, BP, 00,
		00, 00, 00, 00, 00, WB, 00, 00,
		00, 00, 00, 00, 00, WP, WP, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
	})

	MarkAllPreMoves(b, WB, BB)
	//Output:
	// pre-moves for ♗f3
	// 8 x · · · · · · ·
	// 7 · x ♟ · · · · ·
	// 6 · ♝ x · · · · ·
	// 5 · · · x · · · ·
	// 4 · · · · x · x ·
	// 3 · · · · · ♗ · ·
	// 2 · · · · x ♙ x ·
	// 1 · · · x · · · ·
	//   a b c d e f g h
	//
	// pre-moves for ♝b6
	// 8 · · · · · · · ·
	// 7 x · x · · · · ·
	// 6 · ♝ · · · · · ·
	// 5 x · x · · · · ·
	// 4 · · · x · · ♟ ·
	// 3 · · · · x ♗ · ·
	// 2 · · · · · x ♙ ·
	// 1 · · · · · · · ·
	//   a b c d e f g h
}

func ExamplePreK() {
	b := Upright(&Board{
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, BP, 00, 00, 00, 00, 00,
		00, BK, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, BP, 00,
		00, BP, 00, 00, 00, WK, 00, 00,
		00, 00, 00, 00, 00, WP, WP, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
	})

	MarkAllPreMoves(b, WK, BK)

	//Output:
	// 	pre-moves for ♔f3
	// 8 · · · · · · · ·
	// 7 · · ♟ · · · · ·
	// 6 · ♚ · · · · · ·
	// 5 · · · · · · · ·
	// 4 · · · · x x x ·
	// 3 · ♟ · · x ♔ x ·
	// 2 · · · · x x x ·
	// 1 · · · · · · · ·
	//   a b c d e f g h
	//
	// pre-moves for ♚b6
	// 8 · · · · · · · ·
	// 7 x x x · · · · ·
	// 6 x ♚ x · · · · ·
	// 5 x x x · · · · ·
	// 4 · · · · · · ♟ ·
	// 3 · ♟ · · · ♔ · ·
	// 2 · · · · · ♙ ♙ ·
	// 1 · · · · · · · ·
	//   a b c d e f g h

}

func ExamplePreN() {
	b := Upright(&Board{
		00, 00, 00, BR, 00, 00, 00, 00,
		00, BN, 00, 00, 00, 00, 00, 00,
		00, 00, 00, WR, 00, 00, 00, 00,
		00, 00, WR, 00, WR, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, WN, 00, 00, 00, 00,
		00, 00, 00, 00, 00, BR, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
	})

	MarkAllPreMoves(b, WN, BN)

	//Output:
	// pre-moves for ♘d3
	// 8 · · · ♜ · · · ·
	// 7 · ♞ · · · · · ·
	// 6 · · · ♖ · · · ·
	// 5 · · x · x · · ·
	// 4 · x · · · x · ·
	// 3 · · · ♘ · · · ·
	// 2 · x · · · x · ·
	// 1 · · x · x · · ·
	//   a b c d e f g h
	//
	// pre-moves for ♞b7
	// 8 · · · x · · · ·
	// 7 · ♞ · · · · · ·
	// 6 · · · x · · · ·
	// 5 x · x · ♖ · · ·
	// 4 · · · · · · · ·
	// 3 · · · ♘ · · · ·
	// 2 · · · · · ♜ · ·
	// 1 · · · · · · · ·
	//   a b c d e f g h
}

func ExamplePreBP() {
	b := Upright(&Board{
		BR, BN, BB, BQ, BK, BB, BN, BR,
		BP, BP, BP, 00, BP, BP, BP, BP,
		00, WP, 00, 00, 00, 00, BB, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, WP, 00, 00, 00, 00,
		00, 00, 00, BP, 00, 00, 00, 00,
		WP, 00, WP, WP, WP, WP, WP, WP,
		WR, WN, WB, WQ, WK, WB, WN, WR,
	})

	MarkAllPreMoves(b, BP)

	//Output:
	// pre-moves for ♟d3
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · x ♙ x ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟a7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 x x · · · · ♝ ·
	// 5 x · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟b7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 x ♙ x · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟c7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · x x x · · ♝ ·
	// 5 · · x · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟e7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · x x x ♝ ·
	// 5 · · · · x · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟f7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · x x x ·
	// 5 · · · · · x · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟g7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · x ♝ x
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♟h7
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · x x
	// 5 · · · · · · · x
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h

}

func ExamplePreWP() {
	b := Upright(&Board{
		BR, BN, BB, BQ, BK, BB, BN, BR,
		BP, BP, BP, 00, BP, BP, BP, BP,
		00, WP, 00, 00, 00, 00, BB, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, WP, 00, 00, 00, 00,
		00, 00, 00, BP, 00, 00, 00, 00,
		WP, 00, WP, WP, WP, WP, WP, WP,
		WR, WN, WB, WQ, WK, WB, WN, WR,
	})

	MarkAllPreMoves(b, WP)

	//Output:
	// pre-moves for ♙a2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 x · · ♙ · · · ·
	// 3 x x · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙c2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · x ♙ · · · ·
	// 3 · x x x · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙d2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · x ♟ x · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙e2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ x · · ·
	// 3 · · · x x x · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙f2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · x · ·
	// 3 · · · ♟ x x x ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙g2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · x ·
	// 3 · · · ♟ · x x x
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙h2
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · x
	// 3 · · · ♟ · · x x
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙d4
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 ♟ ♟ ♟ · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · x x x · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
	//
	// pre-moves for ♙b6
	// 8 ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
	// 7 x ♟ x · ♟ ♟ ♟ ♟
	// 6 · ♙ · · · · ♝ ·
	// 5 · · · · · · · ·
	// 4 · · · ♙ · · · ·
	// 3 · · · ♟ · · · ·
	// 2 ♙ · ♙ ♙ ♙ ♙ ♙ ♙
	// 1 ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
	//   a b c d e f g h
}

func ExamplePreQ() {
	b := Upright(&Board{
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, BP, 00, 00, 00, 00, 00,
		00, BQ, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, BP, 00,
		00, BP, 00, 00, 00, WQ, 00, 00,
		00, 00, 00, 00, 00, WP, WP, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
	})

	MarkAllPreMoves(b, WQ, BQ)

	//Output:
	// pre-moves for ♕f3
	// 8 x · · · · x · ·
	// 7 · x ♟ · · x · ·
	// 6 · ♛ x · · x · ·
	// 5 · · · x · x · ·
	// 4 · · · · x x x ·
	// 3 · x x x x ♕ x x
	// 2 · · · · x x x ·
	// 1 · · · x · · · ·
	//   a b c d e f g h
	//
	// pre-moves for ♛b6
	// 8 · x · · · · · ·
	// 7 x x x · · · · ·
	// 6 x ♛ x x x x x x
	// 5 x x x · · · · ·
	// 4 · x · x · · ♟ ·
	// 3 · x · · x ♕ · ·
	// 2 · · · · · x ♙ ·
	// 1 · · · · · · · ·
	//   a b c d e f g h
}

func ExamplePreR() {
	b := Upright(&Board{
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, BR, 00, BP, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
		00, BP, WR, 00, WP, 00, 00, 00,
		00, 00, 00, 00, 00, 00, 00, 00,
	})

	MarkAllPreMoves(b, WR, BR)

	//Output:
	// pre-moves for ♖c2
	// 8 · · x · · · · ·
	// 7 · · x · · · · ·
	// 6 · · x · ♜ · ♟ ·
	// 5 · · x · · · · ·
	// 4 · · x · · · · ·
	// 3 · · x · · · · ·
	// 2 · x ♖ x x · · ·
	// 1 · · x · · · · ·
	//   a b c d e f g h
	//
	// pre-moves for ♜e6
	// 8 · · · · x · · ·
	// 7 · · · · x · · ·
	// 6 x x x x ♜ x x ·
	// 5 · · · · x · · ·
	// 4 · · · · x · · ·
	// 3 · · · · x · · ·
	// 2 · ♟ ♖ · x · · ·
	// 1 · · · · · · · ·
	//   a b c d e f g h

}
